#!/bin/bash

# Define associative array to map argument values to file paths
declare -A file_paths
file_paths=(
    ["vars"]="$HOME/.bash_aliases"
    ["als"]="$HOME/.bash_aliases"
    ["guide"]="$HOME/aux/guidance.txt"
    ["mod"]="$HOME/bin/mod"
)

# Define associative array to map editor commands
declare -A editors
editors=(
    ["nano"]="nano"
    ["note"]="notepad.exe"
    ["code"]="code"
)

# Check if the editor argument is provided and valid
if [ $# -eq 2 ]; then
    editor="$2"
    if [ -n "${editors[$editor]}" ]; then
        chosen_editor="${editors[$editor]}"
    else
        echo "Invalid editor: $editor"
        echo "Available editors: ${!editors[*]}"
        exit 1
    fi
elif [ $# -eq 1 ]; then
    chosen_editor="nano"  # Default editor
else
    echo "Usage: $0 [${!file_paths[*]}] [editor]"
    exit 1
fi

# Check if exactly one argument is provided
if [ $# -lt 1 ] || [ $# -gt 2 ]; then
    echo "Usage: $0 [${!file_paths[*]}] [editor]"
    exit 1
fi

# Check if the argument is a valid key in the file_paths array
if [ -n "${file_paths[$1]}" ]; then
    file_path="${file_paths[$1]}"
else
    # If $1 is not a key in file_paths, use it as is
    file_path="$1"
fi

# Open the corresponding file with the chosen editor
if [ "$chosen_editor" = "note" ] || [ "$chosen_editor" = "code" ]; then
    "$chosen_editor" "$file_path" &
else
    "$chosen_editor" "$file_path"
fi

exit 0
