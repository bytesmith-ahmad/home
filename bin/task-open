#!/bin/bash

# Check if exactly one argument is provided
if [ "$#" -ne 1 ]; then
    echo "Usage: $0 <task_id>"
    exit 1
fi

# Retrieve UUID for the task
uuid=$(task _get "$1.uuid")

# Check if directory exists
dir="$HOME/.task/$uuid"
if [ -d "$dir" ]; then
    echo "Directory exists for task $1"
else
    echo "Directory does not exist for task $1. Creating directory..."
    mkdir -p "$dir"
    echo "Directory created at $dir"
fi

# Retrieve task ID and description
id=$(task _get "$1.id")
description=$(task _get "$1.description")

# Create id file
echo "Id: $id" > "$dir/id"
echo "Desc: $description" >> "$dir/id"
echo "id file created at $dir/id"
